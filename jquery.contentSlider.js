(function(a){a.fn.contentSlider=function(d){var f={image_base:null,slide_speed:500,auto_scroll:true,auto_scroll_timeout:6000,pause_on_hover:true,stop_on_click:true,slider_height:300,navigation_inline:false};d=a.extend(f,d);var e=this;var c=null;var b=null;this.initSlider=function(){var g=e.find("div.slider_overflow");var i=e.find("div.slider");if(d.image_base==null){alert("No image base specified for ContentSlider widget.");return}var k=a("<div class='current_slide_indicator'></div>");var m=0;if(i.length>0){var j=0;i.each(function(o,n){j=a(n).width();m+=j;if(d.navigation_inline==false){k.append(a("<img src='"+d.image_base+"/slider-inactive-slide.png' class='slide_indicator' width='10' height='10' />"))}})}var h=a("<img src='"+d.image_base+"/slider-left-arrow-static.png' id='slider_left' width='20' height='20' />");var l=a("<img src='"+d.image_base+"/slider-right-arrow-static.png' id='slider_right' class='enabled' width='20' height='20'  />");if(d.navigation_inline==false){k.prepend(h);k.append(l);e.append(k);a(e.find("img.slide_indicator").get(0)).attr("src",d.image_base+"/slider-active-slide.png")}else{h.addClass("inline");l.addClass("inline");a("div.sliders").before(h);a("div.sliders").after(l)}e.on("startAutoScroll",e.startAutoScroll);e.on("pauseAutoScroll",e.pauseAutoScroll);e.on("stopAutoScroll",e.stopAutoScroll);a("div.sliders").on("mouseenter",function(){e.trigger("pauseAutoScroll")});a("div.sliders").on("mouseleave",function(){e.trigger("startAutoScroll")});e.find("img.slide_indicator").on("click",e.slideIndicatorClickHandler);e.addLeftArrowHandlers();e.addRightArrowHandlers();c=a(i.get(0));a("#slider_left").attr("src",d.image_base+"/slider-left-arrow-grey.png");g.css({width:m+"px"});a("div.sliders").css({width:c.width()+"px",height:d.slider_height+"px"});setTimeout(function(){e.trigger("startAutoScroll")},500)};this.slideIndicatorClickHandler=function(j){var l=a(j.target);var k=a("div.sliders");var g=a("div.slider_overflow");var i=c.index()+1;var h=l.index();c=a("div.slider:nth-child("+h+")");var n=c.width()*(h-1);k.animate({scrollLeft:n,duration:d.slide_speed});a("div.sliders").css({width:c.width()+"px"});if(d.navigation_inline==false){var m=l.siblings("img.slide_indicator");m.attr("src",d.image_base+"/slider-inactive-slide.png")}l.attr("src",d.image_base+"/slider-active-slide.png");e.showOrHideCorrectNavigationImages(h);e.trigger("stopAutoScroll")};this.slideNavigationClickHandler=function(i,l){var n=a(i.target);if(n.hasClass("enabled")||l!=null){var o=a("div.sliders");var h=a("div.slider_overflow");var j=o.find("div.slider");var k=c.index()+1;var m=null;var g=0;if(n.attr("id").match(/left/)){if(k==1){m=j.length}else{m=k-1}}else{if(n.attr("id").match(/right/)){if(k==j.length){m=1}else{m=k+1}}}e.showOrHideCorrectNavigationImages(m);g=c.width()*(m-1);c=a("div.slider:nth-child("+m+")");o.animate({scrollLeft:g,duration:d.slide_speed});a("div.sliders").css({width:c.width()+"px"});if(d.navigation_inline==false){a("div.current_slide_indicator img.slide_indicator").attr("src",d.image_base+"/slider-inactive-slide.png");a("div.current_slide_indicator img.slide_indicator:nth-child("+(m+1)+")").attr("src",d.image_base+"/slider-active-slide.png")}if(l==null){e.trigger("stopAutoScroll")}}};this.showOrHideCorrectNavigationImages=function(g){var h=a("div.sliders").find("div.slider");if(g==1){a("#slider_left").removeClass("enabled").attr("src",d.image_base+"/slider-left-arrow-grey.png");a("#slider_right").addClass("enabled").attr("src",d.image_base+"/slider-right-arrow-static.png")}else{if(g==h.length){a("#slider_left").addClass("enabled").attr("src",d.image_base+"/slider-left-arrow-static.png");a("#slider_right").removeClass("enabled").attr("src",d.image_base+"/slider-right-arrow-grey.png")}else{a("#slider_left").addClass("enabled").attr("src",d.image_base+"/slider-left-arrow-static.png");a("#slider_right").addClass("enabled").attr("src",d.image_base+"/slider-right-arrow-static.png")}}};this.startAutoScroll=function(g){if(d.auto_scroll==true){b=setInterval(function(){a("#slider_right").trigger("click",[true])},d.auto_scroll_timeout)}};this.pauseAutoScroll=function(g){if(d.auto_scroll==true&&b!=null){b=clearInterval(b)}};this.stopAutoScroll=function(g){if(d.auto_scroll==true&&b!=null){b=clearInterval(b);d.auto_scroll=false}};this.addLeftArrowHandlers=function(){a("#slider_left").on("click",e.slideNavigationClickHandler);a("#slider_left").on("mouseover",function(){if(a(this).hasClass("enabled")){a(this).attr("src",d.image_base+"/slider-left-arrow-rollover.png")}});a("#slider_left").on("mouseout",function(){if(a(this).hasClass("enabled")){a(this).attr("src",d.image_base+"/slider-left-arrow-static.png")}})};this.addRightArrowHandlers=function(){a("#slider_right").on("click",e.slideNavigationClickHandler);a("#slider_right").on("mouseover",function(){if(a(this).hasClass("enabled")){a(this).attr("src",d.image_base+"/slider-right-arrow-rollover.png")}});a("#slider_right").on("mouseout",function(){if(a(this).hasClass("enabled")){a(this).attr("src",d.image_base+"/slider-right-arrow-static.png")}})};this.initSlider();return this}})(jQuery);